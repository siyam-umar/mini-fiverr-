<h2>Order Requests</h2>

<table class="table table-bordered">
  <thead class="table-dark">
    <tr>
      <th>Service</th>
      <th>Client</th>
      <th>Status</th>
      <th>Requested On</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @orders.each do |order| %>
      <tr>
        <td><%= order.service.title %></td>
        <td><%= order.client.email %></td>
        <td><span class="badge bg-<%= status_color(order.status) %>"><%= order.status.capitalize %></span></td>
        <td><%= order.created_at.strftime("%d %b %Y") %></td>
        <td>
          <% if order.status == 'pending' %>
            <%= button_to "Accept", update_status_order_path(order, status: "accepted"), method: :patch, class: "btn btn-success btn-sm me-2" %>
            <%= button_to "Reject", update_status_order_path(order, status: "rejected"), method: :patch, class: "btn btn-danger btn-sm" %>
          <% elsif order.status == 'accepted' %>
            <%= button_to "Mark as Completed", update_status_order_path(order, status: "completed"), method: :patch, class: "btn btn-primary btn-sm" %>
          <% else %>
            <em>No actions</em>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>


